<!doctype html>
<html class="no-js">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=11"/>
    <title id="headTitle">工程项目价格计算小工具</title>
    <meta name="keywords" id="headKeywords" content="">
    <meta name="description" id="headDescription" content="">
    <link rel="icon" type="image/x-icon" href="img/dis.ico" />

    <link rel="stylesheet" href="css/amazeui.min.css">
    <link rel="stylesheet" href="css/iconfont/iconfont.css">
    <link rel="stylesheet" href="css/index.css">

    <script src="js/jquery.min.js"></script>
    <script src="js/amazeui.min.js"></script>

</head>
<body>
<div class="header">
    <p class="am-serif">工程项目价格计算小工具</p>
</div>
<div class="white-bg center main">
    <div class="new-btn" style="border: 0;margin: 10px 0 0 0;padding: 0;height: 30px">
        <button id="new-btn" type="button" class="am-btn am-btn-default am-round new-btn" style="float: right;margin-right: 10px">+</button>
    </div>
    <div id="search" class="search">
        <span class="title">计算框</span>
        <form class="am-form am-form-horizontal" role="form">
            <div class="am-form-group">
                <label for="selectGroup" class="am-u-lg-2 am-u-md-3 am-u-sm-5 am-form-label">项目名称：</label>
                <div class="am-u-lg-10 am-u-md-9 am-u-sm-7">
                    <select id="selectGroup" data-am-selected="{btnWidth: '100%', btnSize: 'sm'}"
                            onchange="companyChange()" style="background-color: #2f4d93;display: inline-block">
                    </select>
                </div>
            </div>
            <div class="am-form-group">
                <label for="rate" class="am-u-lg-2 am-u-md-3 am-u-sm-5 am-form-label">计算比率：</label>
                <div class="am-u-lg-10 am-u-md-9 am-u-sm-7">
                    <input type="number" class="form-control" id="rate" placeholder="如：0.85">
                </div>
            </div>
            <div class="am-form-group">
                <div class="am-u-sm-7 am-u-sm-offset-5 am-u-lg-10 am-u-lg-offset-2 am-u-md-9 am-u-md-offset-3">
                    <button type="submit" class="am-btn am-btn-default">计算</button>
                </div>
            </div>
        </form>
    </div>
    <div id="result" class="result">
        <span class="title">结果框</span>
        <div class="am-g">
            <span class="result-num">
                ￥0
                <a href="">导出计算结果</a>
            </span>
        </div>
    </div>
        <div id="add" class="add">
            <span class="title">新建项目</span>
            <form class="am-form am-form-horizontal" role="form">
                <div class="am-form-group">
                    <label for="newName" class="am-u-lg-2 am-u-md-3 am-u-sm-5 am-form-label">项目名称：</label>
                    <div class="am-u-lg-10 am-u-md-9 am-u-sm-7">
                        <input type="text" class="form-control" id="newName" placeholder="不填时，默认和导入文件名相同">
                    </div>
                </div>

                <div class="am-form-group">
                    <label for="newFile" class="am-u-lg-2 am-u-md-3 am-u-sm-5 am-form-label">清单文件：</label>
                    <div class="am-u-lg-10 am-u-md-9 am-u-sm-7">
                        <input type="file" class="form-control" id="newFile" style="padding-top: .6rem;">
                    </div>
                </div>

                <div class="am-form-group">
                    <div class="am-u-sm-7 am-u-sm-offset-5 am-u-lg-10 am-u-lg-offset-2 am-u-md-9 am-u-md-offset-3">
                        <button type="submit" class="am-btn am-btn-default">导入</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
    <div class="white-bg center footer">
        Created By Chiyun@2019
    </div>
<!--<script src="js/index.js"></script>-->
    <script>
        console.log(document.getElementsByTagName('body'))
        var ServerUrl = 'http://182.151.22.247:8085';
        $(function () {
            $('#new-btn').click(function () {
                $('.add').eq(0).toggle();
                $('.search').eq(0).toggle();
                $('.result').eq(0).toggle();
                $('.new-btn').eq(0).toggle();
            });
            getAllProject();
        })
        function getAllProject() {
            console.log(111)
            $.ajax({
                url: ServerUrl + '/project/findAll',
                type: 'GET',
//                headers:{
//                    "Access-Control-Allow-Origin": "*"
//                },
                success:function(data) {
                    console.log(data)
                },
                error : function() {
                    alert("异常！");
                }
            });
//            $.get(ServerUrl + '/project/findAll',function (json) {
//                console.log(json)
                // var companyData = json.data;
                // var selectOptions = '';
                // var content;
                //
                // for(let i = 0; i < companyData.length; i ++) {
                //     if(companyData[i].gslx === 1) {  //总公司
                //         content = companyData[i];
                //         var gsmc = content.gsmc;
                //         var lxdh = content.lxdh;
                //         var lxcz = content.lxcz;
                //         var gswz = content.gswz;
                //         var gsjj = content.gsjj;
                //         var lxyb = content.lxyb;
                //         var lxdz = content.lxdz;
                //         var lxyx = content.lxyx;
                //         var baxx = content.baxx;
                //         var gsgjz = content.gjz;
                //         var gsms = content.gsms;
                //         var goInTxt = gsmc.substr(2,2);
                //         //顶部信息
                //         var head = '<div class="head_logo">\n' +
                //             '<a href="index.html">\n' +
                //             '<img class="head_logo_img" src="img/rf-logo.png" alt="">' + gsmc +
                //             '</a>\n' +
                //             '</div>\n' +
                //             '<div class="head_tel">\n' +
                //             '<div class="head_tel_img"><img src="http://www.ytrsrf.com/images/tel.png"></div>\n' +
                //             '<div class="head_tel_phone">\n' +
                //             '    <div class="head_tel_phone_a c">联系电话</div>\n' +
                //             '    <div class="head_tel_phone_b c">'+lxdh+'</div>\n' +
                //             '</div>\n' +
                //             '</div>'
                //         $('#headTop').html(head);
                //         $('#headTitle,#contactName').text(gsmc);
                //         $('#headKeywords').attr('content',gsgjz);
                //         $('#headDescription').attr('content',gsms);
                //
                //         //公共底部信息
                //         $('#footerPhone,#contactPhone').text(lxdh);
                //         $('#footerAddress,#contactAddress').text(lxdz);
                //         $('#footerUrl,#contactUrl').text(gswz);
                //         $('#footerFax,#contactFax').text(lxcz);
                //         $('#footerPostcode,#contactPostcode').text(lxyb);
                //         $('#contactEmail').text(lxyx);
                //         $('#baxx').text(baxx);
                //         let qrCodeHtml = '<div class="foot_li_ewm_a"><img src="'+imgSrc+'" alt="" /></div>\n' +
                //             '<div class="foot_li_ewm_a"><img src="'+imgSrc+'" alt="" /></div>\n';
                //         $('#qrCode').html(qrCodeHtml);
                //
                //         //公司简介
                //         $('#introContent').html(gsjj);
                //         $('.go-in').text('走进' + goInTxt);
                //
                //         //初始化地图
                //         if($('#map').length){
                //             initMap(content);
                //         }
                //         selectOptions += '<option value="'+ companyData[i].id + '" selected>' + companyData[i].gsmc + '</option>'
                //     }else {
                //         selectOptions += '<option value="'+ companyData[i].id + '">' + companyData[i].gsmc + '</option>'
                //     }
                // }
                // $('#selectGroup').html(selectOptions);


//            });
        }

    </script>
</body>
</html>